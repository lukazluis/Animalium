<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animalium - Clínica Veterinaria</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="antialiased bg-gray-100 text-gray-800">
  <!-- Header with logo -->
  <header class="p-6 bg-white shadow flex items-center justify-center">
    <img src="https://your-domain.com/path-to-logo.png" alt="Animalium Logo" class="h-16">
  </header>

  <!-- Main container -->
  <main class="max-w-md mx-auto mt-12 bg-white p-8 rounded-lg shadow-lg">
    <!-- Login Form -->
    <h1 class="text-2xl font-bold mb-6 text-center">Animalium - Iniciar Sesión</h1>
    <form id="auth-form" class="space-y-4">
      <input id="email" type="email" required placeholder="Correo electrónico" class="w-full px-4 py-2 border rounded" />
      <input id="password" type="password" required placeholder="Contraseña" class="w-full px-4 py-2 border rounded" />
      <button type="button" id="login-btn" class="w-full px-4 py-2 bg-green-600 text-white rounded">Entrar</button>
      <button type="button" id="show-register" class="w-full px-4 py-2 bg-yellow-400 text-white rounded">Registrarse</button>
    </form>

    <!-- Extended Registration Form -->
    <form id="register-form" class="space-y-4 mt-6 hidden">
      <input id="first-name" type="text" required placeholder="Nombre" class="w-full px-4 py-2 border rounded" />
      <input id="last-name" type="text" required placeholder="Apellido" class="w-full px-4 py-2 border rounded" />
      <input id="phone" type="tel" required placeholder="Teléfono" class="w-full px-4 py-2 border rounded" />
      <input id="address" type="text" required placeholder="Dirección" class="w-full px-4 py-2 border rounded" />
      <button type="button" id="register-btn" class="w-full px-4 py-2 bg-blue-500 text-white rounded">Enviar Registro</button>
    </form>
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // == Configuración de Firebase ==
    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "TU_AUTH_DOMAIN",
      projectId: "TU_PROJECT_ID",
      storageBucket: "TU_STORAGE_BUCKET",
      messagingSenderId: "TU_MESSAGING_SENDER_ID",
      appId: "TU_APP_ID"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Mostrar/ocultar formulario de registro
    document.getElementById('show-register').onclick = () => {
      document.getElementById('auth-form').classList.add('hidden');
      document.getElementById('register-form').classList.remove('hidden');
    };

    // Login
    document.getElementById('login-btn').onclick = async () => {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      try {
        await signInWithEmailAndPassword(auth, email, password);
        alert("Sesión iniciada!");
        // Redirige o actualiza la UI
      } catch(e) {
        alert("Error: " + e.message);
      }
    };

    // Registro
    document.getElementById('register-btn').onclick = async () => {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const firstName = document.getElementById('first-name').value;
      const lastName = document.getElementById('last-name').value;
      const phone = document.getElementById('phone').value;
      const address = document.getElementById('address').value;
      try {
        const userCred = await createUserWithEmailAndPassword(auth, email, password);
        // Guardar datos adicionales
        await setDoc(doc(db, "users", userCred.user.uid), {
          firstName, lastName, phone, address, email
        });
        alert("Registro exitoso!");
        // Redirige o muestra dashboard
      } catch(e) {
        alert("Error: " + e.message);
      }
    };
  </script>
</body>
</html>
